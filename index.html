<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Akten Generator – NCPD</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans p-6">
  <h1 class="text-3xl font-bold mb-6 text-center">Akten Generator – Narco City Police Department</h1>

  <!-- TAB NAVIGATION -->
  <div class="flex justify-center gap-6 border-b border-gray-700 mb-6">
    <button id="strafakte-tab" onclick="switchTab('strafakte-tab')" class="pb-2 border-b-2 border-blue-500 text-blue-500">
      Strafakte
    </button>
    <button id="schnellakte-tab" onclick="switchTab('schnellakte-tab')" class="pb-2 border-b-2 text-gray-400 hover:text-white">
      Schnellakte
    </button>
    <button id="kollektivakte-tab" onclick="switchTab('kollektivakte-tab')" class="pb-2 border-b-2 text-gray-400 hover:text-white">
      Kollektivakte
    </button>
  </div>

  <!-- STRAFAKTE -->
  <div id="strafakte-content" class="space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <input id="officer" placeholder="Officer Name & Rang" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="tatort" placeholder="Tatort" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="zeitraum" placeholder="Tatzeit (z. B. 21.07.2025 von 14:00 bis 16:00 Uhr)" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="beschuldigte" placeholder="Beschuldigte Person(en)" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="geschaedigte" placeholder="Geschädigte Person(en)" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <textarea id="sachverhalt" placeholder="Sachverhalt aus Sicht des NCPDs" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"></textarea>
      <input id="einheiten" placeholder="Weitere Einheiten/Zeugen" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <textarea id="gegenstaende" placeholder="Abgenommene Gegenstände" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"></textarea>
      <input id="abgenommenVon" placeholder="Abgenommen von (z. B. PD-XX)" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="rechteVon" placeholder="Rechte verlesen von" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="rechteBeisein" placeholder="Rechte im Beisein von" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <select id="rechtsbeistand" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="verzichtete">verzichtete</option>
        <option value="bestand">bestand</option>
      </select>
      <select id="medizin" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="verzichtete">verzichtete</option>
        <option value="bestand">bestand</option>
      </select>
      <input id="bussgeld" type="date" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <textarea id="bemerkung" placeholder="Weitere Bemerkungen" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"></textarea>
      <textarea id="strafen" placeholder="Strafen/Vergehen" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"></textarea>
      <input id="zeichner" placeholder="Gezeichnet von (Name)" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <input id="zeichnerInfo" placeholder="Dienstnummer & Rang" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
      <select id="eilverfahren" class="bg-gray-800 text-white placeholder-gray-400 p-2 rounded border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="SD">SD</option>
        <option value="PD">PD</option>
        <option value="USMS">USMS</option>
        <option value="FIB">FIB</option>
        <option value="STA">STA</option>
      </select>
    </div>
    <div class="flex gap-4">
      <button onclick="generateStrafakte()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Generieren</button>
      <button onclick="resetStrafakteForm()" class="bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded">Zurücksetzen</button>
    </div>
    <pre id="output" class="mt-4 bg-gray-950 text-gray-200 p-4 whitespace-pre-wrap rounded border border-blue-600"></pre>
  </div>

  <script>
    function switchTab(tabId) {
      const tabs = ['strafakte', 'schnellakte', 'kollektivakte'];
      tabs.forEach(t => {
        document.getElementById(t + '-tab').classList.remove('border-blue-500', 'text-blue-500');
        document.getElementById(t + '-tab').classList.add('text-gray-400');
        document.getElementById(t + '-content').classList.add('hidden');
      });
      document.getElementById(tabId).classList.add('border-blue-500', 'text-blue-500');
      document.getElementById(tabId).classList.remove('text-gray-400');
      const contentId = tabId.replace('-tab', '-content');
      document.getElementById(contentId).classList.remove('hidden');
    }

    function generateStrafakte() {
      const officer = document.getElementById('officer').value;
      const tatort = document.getElementById('tatort').value;
      const zeitraum = document.getElementById('zeitraum').value;
      const beschuldigte = document.getElementById('beschuldigte').value;
      const geschaedigte = document.getElementById('geschaedigte').value;
      const sachverhalt = document.getElementById('sachverhalt').value;
      const einheiten = document.getElementById('einheiten').value;
      const gegenstaende = document.getElementById('gegenstaende').value;
      const abgenommenVon = document.getElementById('abgenommenVon').value;
      const rechteVon = document.getElementById('rechteVon').value;
      const rechteBeisein = document.getElementById('rechteBeisein').value;
      const rechtsbeistand = document.getElementById('rechtsbeistand').value; // "verzichtete" oder "bestand"
      const medizin = document.getElementById('medizin').value; // "verzichtete" oder "bestand"
      const bussgeld = document.getElementById('bussgeld').value; // yyyy-mm-dd
      const bemerkungUser = document.getElementById('bemerkung').value;
      const strafen = document.getElementById('strafen').value;
      const zeichner = document.getElementById('zeichner').value;
      const zeichnerInfo = document.getElementById('zeichnerInfo').value;
      const eilverfahren = document.getElementById('eilverfahren').value;

      // Berechne +7 Tage fürs Bußgelddatum
      let bussgeldDatumPlus7 = '';
      if (bussgeld) {
        const date = new Date(bussgeld);
        date.setDate(date.getDate() + 7);
        bussgeldDatumPlus7 = date.toLocaleDateString('de-DE');
      }

      // Baue Bemerkung zusammen (mit deinem gewünschten Text)
      const bemerkungText = `Die Rechte wurden dem Beschuldigten durch ${rechteVon} im Beisein von ${rechteBeisein} verlesen und verstanden.
Dieser ${rechtsbeistand} auf einen Rechtsbeistand.
Der TV ${medizin} auf medizinische Versorgung.
Das Bußgeld ist bis zum ${bussgeldDatumPlus7} zu bezahlen.
Die dem Tatverdächtigen abgenommenen Gegenstände wurden in seinen persönlichen Spind gelegt.
Das Eilverfahren wurde durch ${eilverfahren} (${zeichnerInfo}) abgelehnt.
${bemerkungUser}`.trim();

      // Ausgabe formatieren
      const outputText = 
`--- Strafakte ---
Officer: ${officer}
Tatort: ${tatort}
Tatzeitraum: ${zeitraum}
Beschuldigte: ${beschuldigte}
Geschädigte: ${geschaedigte}

Sachverhalt:
${sachverhalt}

Weitere Einheiten/Zeugen:
${einheiten}

Abgenommene Gegenstände:
${gegenstaende}
Abgenommen von: ${abgenommenVon}

Bemerkungen:
${bemerkungText}

Strafen/Vergehen:
${strafen}

Gezeichnet von: ${zeichner}
Dienstnummer & Rang: ${zeichnerInfo}`;

      document.getElementById('output').textContent = outputText;
    }

    function resetStrafakteForm() {
      const ids = ['officer','tatort','zeitraum','beschuldigte','geschaedigte','sachverhalt','einheiten','gegenstaende','abgenommenVon','rechteVon','rechteBeisein','rechtsbeistand','medizin','bussgeld','bemerkung','strafen','zeichner','zeichnerInfo','eilverfahren'];
      ids.forEach(id => {
        const el = document.getElementById(id);
        if (el.tagName === 'SELECT') el.selectedIndex = 0;
        else el.value = '';
      });
      document.getElementById('output').textContent = '';
    }

    // Start mit Strafakte-Tab offen
    switchTab('strafakte-tab');
  </script>
</body>
</html>
